"use strict";function n(n){return n}Object.defineProperty(exports,"__esModule",{value:!0});var t=n;function r(n){return function(){return n}}var e=r(void 0);function o(n,t,r,e,o,u,i,c,f){switch(arguments.length){case 1:return n;case 2:return function(){return t(n.apply(this,arguments))};case 3:return function(){return r(t(n.apply(this,arguments)))};case 4:return function(){return e(r(t(n.apply(this,arguments))))};case 5:return function(){return o(e(r(t(n.apply(this,arguments)))))};case 6:return function(){return u(o(e(r(t(n.apply(this,arguments))))))};case 7:return function(){return i(u(o(e(r(t(n.apply(this,arguments)))))))};case 8:return function(){return c(i(u(o(e(r(t(n.apply(this,arguments))))))))};case 9:return function(){return f(c(i(u(o(e(r(t(n.apply(this,arguments)))))))))}}}function u(n,t,r,e,o,u,i,c,f,a,s,p,l,m,v,h,d,y,g,O){switch(arguments.length){case 1:return n;case 2:return t(n);case 3:return r(t(n));case 4:return e(r(t(n)));case 5:return o(e(r(t(n))));case 6:return u(o(e(r(t(n)))));case 7:return i(u(o(e(r(t(n))))));case 8:return c(i(u(o(e(r(t(n)))))));case 9:return f(c(i(u(o(e(r(t(n))))))));case 10:return a(f(c(i(u(o(e(r(t(n)))))))));case 11:return s(a(f(c(i(u(o(e(r(t(n))))))))));case 12:return p(s(a(f(c(i(u(o(e(r(t(n)))))))))));case 13:return l(p(s(a(f(c(i(u(o(e(r(t(n))))))))))));case 14:return m(l(p(s(a(f(c(i(u(o(e(r(t(n)))))))))))));case 15:return v(m(l(p(s(a(f(c(i(u(o(e(r(t(n))))))))))))));case 16:return h(v(m(l(p(s(a(f(c(i(u(o(e(r(t(n)))))))))))))));case 17:return d(h(v(m(l(p(s(a(f(c(i(u(o(e(r(t(n))))))))))))))));case 18:return y(d(h(v(m(l(p(s(a(f(c(i(u(o(e(r(t(n)))))))))))))))));case 19:return g(y(d(h(v(m(l(p(s(a(f(c(i(u(o(e(r(t(n))))))))))))))))));case 20:return O(g(y(d(h(v(m(l(p(s(a(f(c(i(u(o(e(r(t(n)))))))))))))))))))}}var i=function(n,t){return t},c=function(n,t){for(var r=0,e=t.length,o=n.length;r<e;r++,o++)n[o]=t[r];return n},f=function(n){return"Some"===n._tag},a={_tag:"None"},s=function(n){return{_tag:"Some",value:n}},p=function(n){return"Left"===n._tag},l=function(n){return{_tag:"Left",left:n}},m=function(n){return{_tag:"Right",right:n}},v=Object.prototype.hasOwnProperty,h=function(n,t){return{left:n,right:t}};function d(n,t){return function(r){var e=n.traverse(r);return function(n,o){return r.map(e(n,o),t.separate)}}}function y(n,t){return function(r){var e=n.traverse(r);return function(n,o){return r.map(e(n,o),t.compact)}}}var g=l,O=m,_=function(n){return function(t){return S(t)?t:n(t.right)}},S=p,w=function(n){return"Right"===n._tag},b=function(n,t){return function(r){return S(r)?n(r.left):t(r.right)}},F=a,P=s;function N(n){return function(t){return n(t)?P(t):F}}var E=function(n){return"Left"===n._tag?F:P(n.right)},j=function(n,t){return u(n,x(t))},x=function(n){return function(t){return I(t)?F:P(n(t.value))}},G=function(n){return function(t){return I(t)?F:n(t.value)}},R=E,I=function(n){return"None"===n._tag},T=function(n,t){return function(r){return I(r)?n():t(r.value)}},M=function(n){return function(t){return I(t)?n():t.value}},L=M,k=function(n){return null==n?F:P(n)},A=j,U=function(){return t={concat:n},{concat:function(n,r){return I(n)?r:I(r)?n:P(t.concat(n.value,r.value))},empty:F};var t};function K(n){return o(O,n.of)}var z=function(n,t){return function(){return n().then(m,(function(n){return l(t(n))}))}};K({URI:"Task",of:function(n){return function(){return Promise.resolve(n)}}})([]);var C=function(n){return n.length>0},D=function(n,t,r){if(r[n]===t)return r;var e=function(n){return c([n[0]],n.slice(1))}(r);return e[n]=t,e},Y={equals:function(n,t){return n===t}},q={equals:Y.equals,compare:function(n,t){return n<t?-1:n>t?1:0}},B=u,$=function(n,t){return{_tag:"Concat",left:n,right:t}};function J(){return{concat:$}}var W={is:function(n){return"boolean"==typeof n}};var H=J(),Q={URI:"Either",_E:void 0,map:function(n,t){return B(n,function(n){return function(t){return S(t)?t:O(n(t.right))}}(t))},ap:function(n,t){return S(n)?S(t)?g(H.concat(n.left,t.left)):n:S(t)?t:O(n.right(t.right))},of:O,chain:function(n,t){return B(n,_(t))},throwError:g,bimap:function(n,t,r){return B(n,function(n,t){return function(r){return S(r)?g(n(r.left)):O(t(r.right))}}(t,r))},mapLeft:function(n,t){return B(n,function(n){return function(t){return S(t)?g(n(t.left)):t}}(t))},alt:function(n,t){if(w(n))return n;var r=t();return S(r)?g(H.concat(n.left,r.left)):r}},V=function(n,t){return function(n,t){return function(n){return function(t,r){return{decode:function(e){return t(e)?n.of(e):n.throwError(r(e))}}}}(Q)(n,(function(n){return{_tag:"Of",value:function(n,t){return{_tag:"Leaf",actual:n,error:t}}(n,t)}}))}(n.is,t)}(W,"boolean"),X=C,Z=function(n,t){return n<0||n>=t.length};function nn(n,t){return void 0===t?function(t){return nn(n,t)}:Z(n,t)?a:s(t[n])}var tn=function(n){return function(t){for(var r=0;r<t.length;r++)if(n(t[r]))return s(r);return a}};function rn(n){return function(t){for(var r=0;r<t.length;r++)if(n(t[r]))return s(t[r]);return a}}var en=function(n,t,r){return X(r)?D(n,t,r):r},on=function(n){return[n]},un=t;function cn(n){var t,r=(t=n,{URI:sn,_E:void 0,map:fn,ap:function(n,r){return un(t.concat(n,r))}});return{URI:sn,_E:void 0,map:r.map,ap:r.ap,of:function(){return un(n.empty)}}}var fn=function(n,t){return u(n,an(t))},an=function(){return t},sn="Const",pn={concat:function(n,t){return n&&t},empty:!0},ln={concat:function(n,t){return n||t},empty:!1},mn=function(n){return function(t){return Object.keys(t).sort(n.compare)}};function vn(n,t){return void 0===t?function(t){return vn(n,t)}:v.call(t,n)?s(t[n]):a}var hn={};function dn(n){return function(t){var r={};for(var e in t)v.call(t,e)&&(r[e]=n(e,t[e]));return r}}function yn(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(2===n.length)return yn(q).apply(void 0,n);var r=mn(n[0]);return function(n,t){return function(e){for(var o=n,u=r(e),i=u.length,c=0;c<i;c++){var f=u[c];o=t(f,o,e[f])}return o}}}function gn(n){if("compare"in n){var t=mn(n);return function(n){return function(r){return function(e){for(var o=n.empty,u=t(e),i=u.length,c=0;c<i;c++){var f=u[c];o=n.concat(o,r(f,e[f]))}return o}}}}return gn(q)(n)}function On(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(2===n.length)return On(q).apply(void 0,n);var r=mn(n[0]);return function(n,t){return function(e){for(var o=n,u=r(e),i=u.length-1;i>=0;i--){var c=u[i];o=t(c,e[c],o)}return o}}}function _n(n){return xn(q)(n)}var Sn=function(n,t){return u(n,function(n){return dn((function(t,r){return n(r)}))}(t))},wn=function(n){var t=Rn(n);return function(n,r,e){return u(n,t(r,e))}},bn=function(n){return function(t){var r=In(n)(t);return function(n,t){return u(n,r(t))}}},Fn=function(n){var t=Tn(n);return function(n,r,e){return u(n,t(r,e))}},Pn=function(n){var t=yn(n);return function(n,r,e){return u(n,t(r,e))}},Nn=function(n){var t=gn(n);return function(n){var r=t(n);return function(n,t){return u(n,r(t))}}},En=function(n){var t=On(n);return function(n,r,e){return u(n,t(r,e))}},jn=function(n){var t=Gn(n);return function(n){var r=t(n);return function(n,t){return r(n,o(i,t))}}},xn=function(t){var r=jn(t);return function(t){var e=r(t);return function(t){return e(t,n)}}},Gn=function(n){return function(t){var r=mn(n);return function(n,e){var o=r(n);if(0===o.length)return t.of(hn);for(var u=t.of({}),i=function(r){u=t.ap(t.map(u,(function(n){return function(t){return n[r]=t,n}})),e(r,n[r]))},c=0,f=o;c<f.length;c++){i(f[c])}return u}}};function Rn(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(1===n.length){var r=yn(n[0]);return function(n,t){return r(n,(function(n,r,e){return t(r,e)}))}}return Rn(q).apply(void 0,n)}function In(n){if("compare"in n){var t=gn(n);return function(n){var r=t(n);return function(n){return r((function(t,r){return n(r)}))}}}return In(q)(n)}function Tn(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(1===n.length){var r=On(n[0]);return function(n,t){return r(n,(function(n,r,e){return t(r,e)}))}}return Tn(q).apply(void 0,n)}var Mn=function(n){var t={};for(var r in n)if(v.call(n,r)){var e=n[r];f(e)&&(t[r]=e.value)}return t},Ln=function(n){var t={},r={};for(var e in n)if(v.call(n,e)){var o=n[e];p(o)?t[e]=o.left:r[e]=o.right}return h(t,r)},kn="ReadonlyRecord",An={URI:kn,compact:Mn,separate:Ln};wn(q),bn(q),Fn(q),wn(q),bn(q),Fn(q),Pn(q),Nn(q),En(q);var Un={URI:kn,map:Sn,reduce:wn(q),foldMap:bn(q),reduceRight:Fn(q),traverse:jn(q),sequence:_n};wn(q),bn(q),Fn(q),Pn(q),Nn(q),En(q),jn(q),Gn(q);y(Un,An),d(Un,An);wn(q),bn(q),Fn(q),jn(q);var Kn=function(n,t){return function(r){if(v.call(r,n)&&r[n]===t)return r;var e=Object.assign({},r);return e[n]=t,e}};wn(q),bn(q),Fn(q),jn(q),Pn(q),Nn(q),En(q),Gn(q);var zn=function(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;var e=Array(n),o=0;for(t=0;t<r;t++)for(var u=arguments[t],i=0,c=u.length;i<c;i++,o++)e[o]=u[i];return e},Cn=function(n){return Dn(n.get,o(n.reverseGet,r))},Dn=function(n,t){return{get:n,set:t}},Yn=function(n){return tt(o(n.get,P),n.set)},qn=function(n){return function(t){return Dn((function(r){return n.get(t.get(r))}),(function(r){return function(e){return t.set(n.set(r)(t.get(e)))(e)}}))}},Bn=function(n,t){return{getOption:n,reverseGet:t}},$n=function(n){return tt(n.getOption,(function(t){return Hn(t)(n)}))},Jn=function(n){return it((function(t){return function(r){return function(e){return B(n.getOption(e),T((function(){return t.of(e)}),(function(o){return t.map(r(o),(function(t){return Hn(t)(n)(e)}))})))}}}))},Wn=function(n){return function(t){var r=function(n){return function(t){return function(r){return B(t.getOption(r),x((function(e){var o=n(e);return o===e?r:t.reverseGet(o)})))}}}(n)(t);return function(n){return B(r(n),L((function(){return n})))}}},Hn=function(n){return Wn((function(){return n}))},Qn=function(){return Bn(k,n)},Vn=function(t){return Bn(N(t),n)},Xn=function(){return Bn(n,P)},Zn=function(){return Bn(R,O)},nt=function(){return Bn((function(n){return S(n)?P(n.left):F}),g)},tt=function(n,t){return{getOption:n,set:t}},rt=function(n){return function(t){return function(r){return B(t.getOption(r),x((function(e){var o=n(e);return o===e?r:t.set(o)(r)})))}}},et=function(n){return function(t){var r=rt(n)(t);return function(n){return B(r(n),L((function(){return n})))}}},ot=function(n){return function(t){return tt(o(t.getOption,G(n.getOption)),(function(r){return et(n.set(r))(t)}))}},ut=function(n,t,r){if(r[n]===t)return r;var e=zn([r[0]],r.slice(1));return e[n]=t,e},it=function(n){return{modifyF:n}};function ct(n){return function(t){return it((function(r){return function(e){return t.modifyF(r)(n.modifyF(r)(e))}}))}}var ft={URI:"Identity",map:function(n,t){return t(n)},of:n,ap:function(n,t){return n(t)}};function at(n){return ct(function(n){return function(){return it((function(t){var r=function(n){return"Identity"===n.URI}(t)?n.map:n.traverse(t);return function(n){return function(t){return r(t,n)}}}))}}(n)())}var st=function(n){return{index:n}},pt=function(){return st((function(n){return tt((function(t){return nn(n,t)}),(function(t){return function(r){return B(nn(n,r),T((function(){return r}),(function(){return en(n,t,r)})))}}))}))},lt=function(){return st((function(n){return tt((function(t){return nn(n,t)}),(function(t){return function(r){return B(nn(n,r),T((function(){return r}),(function(){return ut(n,t,r)})))}}))}))},mt=function(){return st((function(n){return tt((function(t){return vn(n,t)}),(function(t){return function(r){return r[n]===t||I(vn(n,r))?r:Kn(n,t)(r)}}))}))};var vt=Cn,ht=function(n){return Bn(o(n.get,P),n.reverseGet)},dt=function(n){return tt(o(n.get,P),o(n.reverseGet,r))},yt=function(n){return it((function(t){return function(r){return function(e){return t.map(r(n.get(e)),(function(t){return n.reverseGet(t)}))}}}))},gt=Dn,Ot=function(){return Dn(n,r)},_t=Yn,St=function(n){return it((function(t){return function(r){return function(e){return t.map(r(n.get(e)),(function(t){return n.set(t)(e)}))}}}))},wt=qn,bt=wt,Ft=o(Cn,wt),Pt=function(n){return function(t){return ot($n(n))(Yn(t))}},Nt=function(n){return o(_t,ot(n))},Et=function(n){return function(t){return function(r){var e=t.get(r),o=n(e);return e===o?r:t.set(o)(r)}}};var jt=function(n){return function(t){return Dn((function(r){return t.get(r)[n]}),(function(r){return function(e){var o,u=t.get(e);return r===u[n]?e:t.set(Object.assign({},u,((o={})[n]=r,o)))(e)}}))}},xt=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return function(t){return Dn((function(r){for(var e=t.get(r),o={},u=0,i=n;u<i.length;u++){var c=i[u];o[c]=e[c]}return o}),(function(r){return function(e){for(var o=t.get(e),u=0,i=n;u<i.length;u++){var c=i[u];if(r[c]!==o[c])return t.set(Object.assign({},o,r))(e)}return e}}))}},Gt=function(n){return function(t){return Dn((function(r){return t.get(r)[n]}),(function(r){return function(e){var o=t.get(e);if(r===o[n])return e;var u=o.slice();return u[n]=r,t.set(u)(e)}}))}},Rt=function(n){return function(t){return B(t,qn(function(n){return{at:n}}((function(n){return Dn((function(t){return vn(n,t)}),T((function(){return t=n,function(n){if(!v.call(n,t))return n;var r=Object.assign({},n);return delete r[t],r};var t}),(function(t){return Kn(n,t)})))})).at(n)))}},It=Pt(Xn()),Tt=Pt(Zn()),Mt=Pt(nt());var Lt=function(n,t,r){return gt(o(n.get,t),o(r,n.set))},kt="monocle-ts/Lens",At={URI:kt,imap:Lt},Ut={URI:kt,compose:function(n,t){return wt(n)(t)}},Kt={URI:kt,compose:Ut.compose,id:Ot},zt=Object.freeze({__proto__:null,lens:gt,id:Ot,asOptional:_t,asTraversal:St,compose:wt,composeLens:bt,composeIso:Ft,composePrism:Pt,composeOptional:Nt,composeTraversal:function(n){return o(St,ct(n))},modify:Et,modifyF:function(n){return function(t){return function(r){return function(e){return B(r.get(e),t,(function(t){return n.map(t,(function(n){return r.set(n)(e)}))}))}}}},fromNullable:function(n){return Pt(Qn())(n)},filter:function(n){return Pt(Vn(n))},prop:jt,props:xt,component:Gt,index:function(n){return o(_t,function(n){return function(t){return B(t,ot(pt().index(n)))}}(n))},indexNonEmpty:function(n){return o(_t,function(n){return function(t){return B(t,ot(lt().index(n)))}}(n))},key:function(n){return o(_t,function(n){return function(t){return B(t,ot(mt().index(n)))}}(n))},atKey:Rt,some:It,right:Tt,left:Mt,traverse:function(n){return o(St,at(n))},findFirst:function(n){return Nt(function(n){return tt(rn(n),(function(t){return function(r){return B(tn(n)(r),T((function(){return r}),(function(n){return en(n,t,r)})))}}))}(n))},findFirstNonEmpty:function(n){return Nt(function(n){return tt(rn(n),(function(t){return function(r){return B(tn(n)(r),T((function(){return r}),(function(n){return ut(n,t,r)})))}}))}(n))},imap:function(n,t){return function(r){return Lt(r,n,t)}},URI:kt,Invariant:At,Semigroupoid:Ut,Category:Kt}),Ct=function(n){return it((function(t){return function(r){return function(e){return B(n.getOption(e),T((function(){return t.of(e)}),(function(o){return t.map(r(o),(function(t){return n.set(t)(e)}))})))}}}))},Dt=ot,Yt=rt,qt=et;$n(Qn()),$n(Xn()),$n(Zn()),$n(nt());var Bt=Vn,$t=$n,Jt=Jn,Wt=function(n){return function(t){return Bn(o(t.getOption,G(n.getOption)),o(n.reverseGet,t.reverseGet))}},Ht=function(n){return function(t){return ot(Yn(n))($n(t))}},Qt=ct,Vt=function(n){return function(t){return t.modifyF(ft)(n)}};var Xt=function(n){return new er(n.get,n.set)},Zt=function(n){return new or(n.getOption,n.reverseGet)},nr=function(n){return new ir(n.getOption,n.set)},tr=function(n){return new cr(n.modifyF)},rr=function(n,t,r){var e;return r===n[t]?n:Object.assign({},n,((e={})[t]=r,e))},er=function(){function n(n,t){this.get=n,this.set=t,this._tag="Lens"}return n.fromPath=function(){var t=n.fromProp();return function(n){var r=t(n[0]);return n.slice(1).reduce((function(n,r){return n.compose(t(r))}),r)}},n.fromProp=function(){return function(n){return Xt(B(Ot(),jt(n)))}},n.fromProps=function(){return function(n){return Xt(B(Ot(),xt.apply(zt,n)))}},n.fromNullableProp=function(){return function(t,r){return new n((function(n){var e=k(n[t]);return I(e)?r:e.value}),(function(n){return function(r){return rr(r,t,n)}}))}},n.prototype.modify=function(n){return Et(n)(this)},n.prototype.asOptional=function(){return nr(_t(this))},n.prototype.asTraversal=function(){return tr(St(this))},n.prototype.asSetter=function(){var n=this;return new sr((function(t){return n.modify(t)}))},n.prototype.asGetter=function(){var n=this;return new fr((function(t){return n.get(t)}))},n.prototype.asFold=function(){var n=this;return new ar((function(){return function(t){return function(r){return t(n.get(r))}}}))},n.prototype.compose=function(n){return Xt(wt(n)(this))},n.prototype.composeLens=function(n){return this.compose(n)},n.prototype.composeGetter=function(n){return this.asGetter().compose(n)},n.prototype.composeFold=function(n){return this.asFold().compose(n)},n.prototype.composeOptional=function(n){return nr(B(this,_t,Dt(n)))},n.prototype.composeTraversal=function(n){return tr(B(this,St,Qt(n)))},n.prototype.composeSetter=function(n){return this.asSetter().compose(n)},n.prototype.composeIso=function(n){return Xt(B(this,wt(B(n,vt))))},n.prototype.composePrism=function(n){return nr(Pt(n)(this))},n}(),or=function(){function n(n,t){this.getOption=n,this.reverseGet=t,this._tag="Prism"}return n.fromPredicate=function(n){return Zt(Bt(n))},n.some=function(){return ur},n.prototype.modify=function(n){var t=this;return function(r){var e=t.modifyOption(n)(r);return I(e)?r:e.value}},n.prototype.modifyOption=function(n){var t=this;return function(r){return A(t.getOption(r),(function(e){var o=n(e);return o===e?r:t.reverseGet(o)}))}},n.prototype.set=function(n){return this.modify((function(){return n}))},n.prototype.asOptional=function(){return nr($t(this))},n.prototype.asTraversal=function(){return tr(Jt(this))},n.prototype.asSetter=function(){var n=this;return new sr((function(t){return n.modify(t)}))},n.prototype.asFold=function(){var n=this;return new ar((function(t){return function(r){return function(e){var o=n.getOption(e);return I(o)?t.empty:r(o.value)}}}))},n.prototype.compose=function(n){return Zt(Wt(n)(this))},n.prototype.composePrism=function(n){return this.compose(n)},n.prototype.composeOptional=function(n){return nr(B(this,$t,Dt(n)))},n.prototype.composeTraversal=function(n){return tr(B(this,Jt,Qt(n)))},n.prototype.composeFold=function(n){return this.asFold().compose(n)},n.prototype.composeSetter=function(n){return this.asSetter().compose(n)},n.prototype.composeIso=function(n){return Zt(B(this,Wt(B(n,ht))))},n.prototype.composeLens=function(n){return nr(Ht(n)(this))},n.prototype.composeGetter=function(n){return this.asFold().compose(n.asFold())},n}(),ur=new or(n,P),ir=function(){function n(n,t){this.getOption=n,this.set=t,this._tag="Optional"}return n.fromPath=function(){var t=n.fromNullableProp();return function(n){var r=t(n[0]);return n.slice(1).reduce((function(n,r){return n.compose(t(r))}),r)}},n.fromNullableProp=function(){return function(t){return new n((function(n){return k(n[t])}),(function(n){return function(r){return null==r[t]?r:rr(r,t,n)}}))}},n.fromOptionProp=function(){var n=er.fromProp();return function(t){return n(t).composePrism(ur)}},n.prototype.modify=function(n){return qt(n)(this)},n.prototype.modifyOption=function(n){return Yt(n)(this)},n.prototype.asTraversal=function(){return tr(Ct(this))},n.prototype.asFold=function(){var n=this;return new ar((function(t){return function(r){return function(e){var o=n.getOption(e);return I(o)?t.empty:r(o.value)}}}))},n.prototype.asSetter=function(){var n=this;return new sr((function(t){return n.modify(t)}))},n.prototype.compose=function(n){return nr(Dt(n)(this))},n.prototype.composeOptional=function(n){return this.compose(n)},n.prototype.composeTraversal=function(n){return tr(B(this,Ct,Qt(n)))},n.prototype.composeFold=function(n){return this.asFold().compose(n)},n.prototype.composeSetter=function(n){return this.asSetter().compose(n)},n.prototype.composeLens=function(n){return nr(B(this,Dt(B(n,_t))))},n.prototype.composePrism=function(n){return nr(B(this,Dt(B(n,$t))))},n.prototype.composeIso=function(n){return nr(B(this,Dt(B(n,dt))))},n.prototype.composeGetter=function(n){return this.asFold().compose(n.asFold())},n}(),cr=function(){function n(n){this.modifyF=n,this._tag="Traversal"}return n.prototype.modify=function(n){return Vt(n)(this)},n.prototype.set=function(n){return function(n){return Vt((function(){return n}))}(n)(this)},n.prototype.filter=function(n){return tr(function(n){return Qt(Jn(Vn(n)))}(n)(this))},n.prototype.asFold=function(){var n=this;return new ar((function(t){return function(r){return n.modifyF(cn(t))((function(n){return un(r(n))}))}}))},n.prototype.asSetter=function(){var n=this;return new sr((function(t){return n.modify(t)}))},n.prototype.compose=function(n){return tr(Qt(n)(this))},n.prototype.composeTraversal=function(n){return this.compose(n)},n.prototype.composeFold=function(n){return this.asFold().compose(n)},n.prototype.composeSetter=function(n){return this.asSetter().compose(n)},n.prototype.composeOptional=function(n){return this.compose(n.asTraversal())},n.prototype.composeLens=function(n){return tr(B(this,Qt(B(n,St))))},n.prototype.composePrism=function(n){return tr(B(this,Qt(B(n,Jt))))},n.prototype.composeIso=function(n){return tr(B(this,Qt(B(n,yt))))},n.prototype.composeGetter=function(n){return this.asFold().compose(n.asFold())},n}(),fr=function(){function n(n){this.get=n,this._tag="Getter"}return n.prototype.asFold=function(){var n=this;return new ar((function(){return function(t){return function(r){return t(n.get(r))}}}))},n.prototype.compose=function(t){var r=this;return new n((function(n){return t.get(r.get(n))}))},n.prototype.composeGetter=function(n){return this.compose(n)},n.prototype.composeFold=function(n){return this.asFold().compose(n)},n.prototype.composeLens=function(n){return this.compose(n.asGetter())},n.prototype.composeIso=function(n){return this.compose(n.asGetter())},n.prototype.composeTraversal=function(n){return this.asFold().compose(n.asFold())},n.prototype.composeOptional=function(n){return this.asFold().compose(n.asFold())},n.prototype.composePrism=function(n){return this.asFold().compose(n.asFold())},n}(),ar=function(){function n(n){this.foldMap=n,this._tag="Fold",this.getAll=n({concat:function(n,t){return n.concat(t)},empty:[]})(on),this.exist=n(ln),this.all=n(pn),this.foldMapFirst=n(U())}return n.prototype.compose=function(t){var r=this;return new n((function(n){return function(e){return r.foldMap(n)(t.foldMap(n)(e))}}))},n.prototype.composeFold=function(n){return this.compose(n)},n.prototype.composeGetter=function(n){return this.compose(n.asFold())},n.prototype.composeTraversal=function(n){return this.compose(n.asFold())},n.prototype.composeOptional=function(n){return this.compose(n.asFold())},n.prototype.composeLens=function(n){return this.compose(n.asFold())},n.prototype.composePrism=function(n){return this.compose(n.asFold())},n.prototype.composeIso=function(n){return this.compose(n.asFold())},n.prototype.find=function(n){return this.foldMapFirst(N(n))},n.prototype.headOption=function(n){return this.find((function(){return!0}))(n)},n}(),sr=function(){function n(n){this.modify=n,this._tag="Setter"}return n.prototype.set=function(n){return this.modify(r(n))},n.prototype.compose=function(t){var r=this;return new n((function(n){return r.modify(t.modify(n))}))},n.prototype.composeSetter=function(n){return this.compose(n)},n.prototype.composeTraversal=function(n){return this.compose(n.asSetter())},n.prototype.composeOptional=function(n){return this.compose(n.asSetter())},n.prototype.composeLens=function(n){return this.compose(n.asSetter())},n.prototype.composePrism=function(n){return this.compose(n.asSetter())},n.prototype.composeIso=function(n){return this.compose(n.asSetter())},n}(),pr={},lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.AnonymousSelect=lr.NamedSelect=lr.Not=lr.Guard=lr.PatternKind=void 0,lr.PatternKind=Symbol("@ts-pattern/pattern-kind"),lr.Guard=Symbol("@ts-pattern/guard"),lr.Not=Symbol("@ts-pattern/not"),lr.NamedSelect=Symbol("@ts-pattern/named-select"),lr.AnonymousSelect=Symbol("@ts-pattern/anonymous-select");var mr={};!function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.instanceOf=n.select=n.ANONYMOUS_SELECT_KEY=n.not=n.when=void 0;const t=lr;n.when=n=>({[t.PatternKind]:t.Guard,[t.Guard]:n});n.not=n=>({[t.PatternKind]:t.Not,[t.Not]:n}),n.ANONYMOUS_SELECT_KEY="@ts-pattern/__anonymous-select-key",n.select=function(n){return void 0===n?{[t.PatternKind]:t.AnonymousSelect}:{[t.PatternKind]:t.NamedSelect,[t.NamedSelect]:n}};n.instanceOf=t=>n.when(function(n){return t=>t instanceof n}(t))}(mr);var vr={};Object.defineProperty(vr,"__esModule",{value:!0}),vr.__=void 0;const hr=mr;const dr=hr.when((function(n){return!0})),yr=hr.when((function(n){return"string"==typeof n})),gr=hr.when((function(n){return"number"==typeof n&&!Number.isNaN(n)})),Or=hr.when((function(n){return"boolean"==typeof n})),_r=hr.when((function(n){return null==n}));vr.__=Object.assign(dr,{string:yr,number:gr,boolean:Or,nullish:_r}),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isMatching=n.match=n.instanceOf=n.select=n.not=n.when=n.__=void 0;const t=lr,r=mr;Object.defineProperty(n,"when",{enumerable:!0,get:function(){return r.when}}),Object.defineProperty(n,"not",{enumerable:!0,get:function(){return r.not}}),Object.defineProperty(n,"select",{enumerable:!0,get:function(){return r.select}}),Object.defineProperty(n,"instanceOf",{enumerable:!0,get:function(){return r.instanceOf}});const e=vr;Object.defineProperty(n,"__",{enumerable:!0,get:function(){return e.__}});n.match=n=>o(n,[]);const o=(n,t)=>{const e=()=>{const r=t.find((({test:t})=>t(n)));if(!r){let t;try{t=JSON.stringify(n)}catch(r){t=n}throw new Error(`Pattern matching error: no pattern matches value ${t}`)}return r.handler(r.select(n),n)};return{with(...e){const u=e[e.length-1],c=[],f=[];for(let n=0;n<e.length-1;n++){const t=e[n];"function"==typeof t?f.push(t):c.push(t)}let a={};return o(n,t.concat([{test:n=>Boolean(c.some((t=>i(t,n,((n,t)=>{a[n]=t}))))&&f.every((t=>t(n)))),handler:u,select:n=>Object.keys(a).length?void 0!==a[r.ANONYMOUS_SELECT_KEY]?a[r.ANONYMOUS_SELECT_KEY]:a:n}]))},when:(r,e)=>o(n,t.concat([{test:r,handler:e,select:n=>n}])),otherwise:r=>o(n,t.concat([{test:()=>!0,handler:r,select:n=>n}])).run(),exhaustive:()=>e(),run:e}},u=n=>Boolean(n&&"object"==typeof n),i=(n,o,c)=>{if(u(n)){if((f=n)&&f[t.PatternKind]===t.Guard)return Boolean(n[t.Guard](o));if((n=>n&&n[t.PatternKind]===t.NamedSelect)(n))return c(n[t.NamedSelect],o),!0;if((n=>n&&n[t.PatternKind]===t.AnonymousSelect)(n))return c(r.ANONYMOUS_SELECT_KEY,o),!0;if((n=>n&&n[t.PatternKind]===t.Not)(n))return!i(n[t.Not],o,c);if(!u(o))return!1;if(Array.isArray(n)){if(!Array.isArray(o))return!1;if(1===n.length){const t={},r=(n,r)=>{t[n]=(t[n]||[]).concat([r])},e=o.every((t=>i(n[0],t,r)));return e&&Object.keys(t).forEach((n=>c(n,t[n]))),e}return n.length===o.length&&n.every(((n,t)=>i(n,o[t],c)))}if(n instanceof Map)return o instanceof Map&&[...n.keys()].every((t=>i(n.get(t),o.get(t),c)));if(n instanceof Set){if(!(o instanceof Set))return!1;if(0===n.size)return 0===o.size;if(1===n.size){const[t]=[...n.values()];return Object.values(e.__).includes(t)?i([t],[...o.values()],c):o.has(t)}return[...n.values()].every((n=>o.has(n)))}return Object.keys(n).every((t=>t in o&&i(n[t],o[t],c)))}var f;return o===n};n.isMatching=function(...n){if(1===n.length){const[t]=n;return n=>i(t,n,(()=>{}))}if(2===n.length){const[t,r]=n;return i(t,r,(()=>{}))}throw new Error(`isMatching wasn't given enough arguments: expected 1 or 2, received ${n.length}.`)}}(pr);var Sr,wr=function(n,t){return z((function(){return n.sendRequest("textDocument/formatting",{textDocument:{uri:t.document.uri},options:{}}).then((function(n){t.edit((function(r){n.map((function(n){var e=function(n,t){for(var r=0,e=0,o=0,u=n.getTextInRange(new Range(0,n.length)).split(n.eol),i=0;i<u.length;i++){var c=u[i].length+n.eol.length;if(t.start.line===i&&(r=o+t.start.character),t.end.line===i){e=o+t.end.character;break}o+=c}return new Range(r,e)}(t.document,n.range);r.replace(e,n.newText)}))}))}))}),(function(){return{_tag:"invokeFormatterError",reason:nova.localize("Failed to format the document")+"."}}))};!function(n){n.FindReferences="hansjhoffman.elixir.commands.findReferences",n.FormatOnSave="hansjhoffman.elixir.config.formatOnSave",n.FormatDocument="hansjhoffman.elixir.commands.formatDocument",n.Restart="hansjhoffman.elixir.commands.restart",n.Sidebar="hansjhoffman.elixir.sidebar",n.SidebarResults="hansjhoffman.elixir.sidebar.results"}(Sr||(Sr={}));var br=new CompositeDisposable,Fr=F,Pr={workspace:{formatOnSave:u(k(nova.workspace.config.get(Sr.FormatOnSave)),G((function(n){return R(V.decode(n))})),M((function(){return!1})))},global:{formatOnSave:u(k(nova.config.get(Sr.FormatOnSave)),G((function(n){return R(V.decode(n))})),M((function(){return!1})))}},Nr=er.fromPath()(["workspace"]),Er=er.fromPath()(["global"]),jr=function(n){u(k(n.document.syntax),G(N((function(n){return Y.equals(n,"elixir")}))),T(e,(function(t){var r=new CompositeDisposable;br.add(n.onDidDestroy((function(){return r.dispose()}))),function(n){var t=Nr.get(n),r=Er.get(n);return t.formatOnSave||r.formatOnSave}(Pr)&&r.add(n.onWillSave(function(n){return function(t){u(n,T((function(){return console.log(nova.localize("Skipping. No Langunage Client running.")+".")}),(function(n){wr(n,t)().then(b((function(n){return pr.match(n).with({_tag:"invokeFormatterError"},(function(n){var t=n.reason;return console.error(t)})).exhaustive()}),(function(){return console.log(nova.localize("Formatted")+" "+t.document.path)})))})))}}(Fr)))})))};exports.activate=function(){console.log(nova.localize("Activating")+"..."),function(n){if(nova.inDevMode()){var t=new NotificationRequest("elixir-nova-notification");t.title=nova.extension.name,t.body=n,nova.notifications.add(t)}}(nova.localize("Starting extension")+"..."),br.add(nova.workspace.onDidAddTextEditor(jr)),console.log(nova.localize("Activated")+" 🎉")},exports.deactivate=function(){console.log(nova.localize("Deactivating")+"..."),z((function(){return new Promise((function(n,t){u(Fr,T(e,(function(n){n.stop(),Fr=F}))),n()}))}),(function(n){return{_tag:"shutdownError",reason:"Uh oh... Failed to deactivate plugin."}}))().then(b((function(n){return pr.match(n).with({_tag:"shutdownError"},(function(n){var t=n.reason;return console.error(t)})).exhaustive()}),(function(n){return console.log(nova.localize("Deactivated. Come back soon")+" :)")}))),br.dispose()};
//# sourceMappingURL=main.cjs.min.js.map
